(()=>{"use strict";const e=[],t=[];let n=0;const o=o=>{t.push((t=>{const o=n;return n++,{getID:()=>o,getName:()=>t,changeName:e=>t=e,projectToDos:()=>e.filter((e=>e.getProjectID()==o))}})(o))},d=e=>{document.getElementById(e).style.display="flex"},c=e=>{document.getElementById(e).style.display="none"},l=()=>{document.getElementById("name").value="",document.getElementById("date").value="",document.getElementById("description").value="",document.getElementById("priority").value="",document.getElementById("projectID").value=""},a=t=>{const n=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),r=document.createElement("input"),s=document.createElement("button"),p=document.createElement("button"),E=document.createElement("button");return r.type="checkbox",n.dataset.todoid=t.getProjectID(),o.textContent=t.getName(),d.textContent=t.getDate(),c.textContent=t.getDescription(),l.textContent=t.getPriority(),a.textContent=t.getProjectID(),r.checked=t.getCheckState(),c.style.display="none",E.style.display="none",n.append(o,d,c,l,a,r,s,p,E),n.classList.add("defaultDisplay"),r.addEventListener("change",(()=>t.check())),s.addEventListener("click",(e=>{m(e.target.parentNode),u(e.target.parentNode)})),p.addEventListener("click",(()=>{var o;o=e.indexOf(t),e.splice(o,1),i(n)})),n},i=e=>{e.parentNode.removeChild(e)},r=e=>{let t=0;for(;t<e.length;)i(e[t]),t++},m=e=>{e.classList.toggle("defaultDisplay"),e.classList.toggle("detailDisplay")},u=e=>{e.classList.contains("defaultDisplay")?(e.childNodes[2].style.display="none",e.childNodes[8].style.display="none"):(e.childNodes[2].style.display="block",e.childNodes[8].style.display="block")},s=e=>{const n=document.createElement("div"),o=document.createElement("div"),d=document.createElement("input"),c=document.createElement("button");n.dataset.projectid=e.getID(),d.type="checkbox",o.textContent=e.getName(),d.classList.add("displayCheckbox"),d.addEventListener("change",p.bind(void 0,e,d)),c.addEventListener("click",(()=>{(e=>{e.parentNode.removeChild(e)})(n),(e=>{const n=t.indexOf(e);t.splice(n,1)})(e),r(document.querySelectorAll(`div[data-todoid = "${e.getID()}"]`))})),n.append(o,d,c),document.getElementById("projectsList").appendChild(n)},p=(e,t)=>{const n=e.projectToDos(),o=e.getID(),d=t.checked;E(n,d,o)},E=(e,t,n)=>{if(t)e.forEach((e=>{var t;t=e,document.getElementById("todosList").appendChild(a(t))}));else if(!t){const e=document.querySelectorAll(`div[data-todoid = "${n}"]`);let t=0;for(;t<e.length;)i(e[t]),t++}},g=()=>{for(let e=0;e<t.length;e++){const n=t[e],o=t[e].getID(),d=document.querySelector(`div[data-projectid = "${o}"]`).childNodes[1];p(n,d)}};(()=>{const n=document.createElement("header"),a=document.createElement("main"),i=document.createElement("nav"),m=document.createElement("h1"),u=document.createElement("button"),p=document.createElement("div"),E=document.createElement("div"),y=document.createElement("div"),v=document.createElement("button"),h=document.createElement("footer");i.id="projectsMenu",p.id="projectsList",u.id="newProject",E.id="todosView",y.id="todosList",v.id="addNew",i.append(m,p,u),E.append(y,v),a.append(i,E),document.getElementById("content").append(n,a,h,(()=>{const t=document.createElement("form"),n=document.createElement("input"),o=document.createElement("input"),d=document.createElement("input"),a=document.createElement("div"),i=document.createElement("input"),r=document.createElement("label"),m=document.createElement("input"),u=document.createElement("label"),s=document.createElement("input"),p=document.createElement("label"),E=document.createElement("select"),y=document.createElement("button"),v=document.createElement("button");return o.type="date",i.type="radio",m.type="radio",s.type="radio",i.name="priority",m.name="priority",s.name="priority",i.value="low",m.value="low",s.value="high",r.htmlFor="low",r.textContent="Low",u.htmlFor="mid",u.textContent="Mid",p.htmlFor="high",p.textContent="High",a.append(i,r,m,u,s,p),t.append(n,o,d,a,E,y,v),t.id="form",n.id="name",o.id="date",d.id="description",a.id="priority",i.id="lowPriority",m.id="midPriority",s.id="highPriority",E.id="projectID",y.id="addToDo",v.id="closeForm",y.type="button",v.type="button",y.addEventListener("click",(()=>{console.log(n.value),console.log(o.value),console.log(a.value),console.log(E.value),""!==n.value&&""!==o.value&&void 0!==a.value&&""!==E.value?((()=>{const t=document.getElementById("name").value,n=document.getElementById("date").value,o=document.getElementById("description").value,d=document.getElementById("form").elements.priority.value,c=document.getElementById("projectID").options[document.getElementById("projectID").selectedIndex].dataset.projectID;e.push(((e,t,n,o,d,c)=>{let l=!1;return{getName:()=>e,changeName:t=>e=t,getDate:()=>t,changeDate:e=>t=e,getDescription:()=>n,changeDescription:t=>e=t,getPriority:()=>o,getProjectID:()=>d,changeProjectID:e=>d=e,changePriority:e=>o=e,getCheckState:()=>l,check:()=>l=!l}})(t,n,o,d,c))})(),(()=>{const e=document.getElementById("projectID").options[document.getElementById("projectID").selectedIndex].dataset.projectID,t=document.querySelector(`div[data-projectid = "${e}"]`).childNodes[1];0==t.checked&&(t.checked=!0)})(),g(),c("form"),l()):""!=n.value&&""!=o.value&&null!=a.value&&""!=E.value||alert("Your new Todo needs more information : )")})),v.addEventListener("click",(()=>{c("form"),l()})),t})(),(()=>{const e=document.createElement("div"),n=document.createElement("div"),d=document.createElement("input"),l=document.createElement("button"),a=document.createElement("button");return e.append(n,d,l,a),e.id="projectForm",l.addEventListener("click",(()=>{""!==d.value?(o(d.value),s(t[t.length-1]),c("projectForm"),d.value="",g()):""==d.value&&alert("Your new project needs a name : )")})),a.addEventListener("click",c.bind(void 0,"projectForm")),e})()),u.addEventListener("click",(()=>{r(document.getElementById("todosList").childNodes),c("form"),d("projectForm")})),v.addEventListener("click",(()=>{r(document.getElementById("todosList").childNodes),(()=>{document.getElementById("projectID").options.length=t.length;for(let e=0;e<t.length;e++)document.getElementById("projectID").options[e].textContent=t[e].getName(),document.getElementById("projectID").options[e].dataset.projectID=t[e].getID()})(),c("projectForm"),d("form")}))})(),o("myList"),s(t[t.length-1])})();